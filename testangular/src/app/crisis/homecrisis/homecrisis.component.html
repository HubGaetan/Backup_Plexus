<div class="row">

    <div class="d-flex justify-content-between align-items-center">
        <h4 style="margin-bottom: 2px;"> Gestion de crise </h4>
        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" class="ms-auto">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Plexus</a></li>
                <li class="breadcrumb-item active" aria-current="page">Gestion de crise</li>
            </ol>
        </nav>
    </div>
    <div class="d-flex justify-content-end align-items-center">
        <button (click)="openModal()" class="btn btn-primary" style="color: white; background-color: #2389bf;">Ajouter
            une Nouvelle crise <i class="bx bx-plus-circle"></i></button>
    </div>
    <div style="padding-top: 20px;">
        <app-listcrisis (selectedCrisis)="selectCrisis($event)" [crisislist]="crisislist"></app-listcrisis>
    </div>
</div>



<div class="modal" [style.display]="modalOpen ? 'block' : 'none'">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Création d'une nouvelle crise</h2>
            <span class="close" (click)="closeModal()"><i class="bx bx-x"></i></span>
        </div>
        <div class="modal-body">
            <h5>Voulez-vous vraiment supprimer cette crise ?</h5>
        </div>
        <div>
            <form #crisisform="ngForm">
                <label for="title"> Titre </label>
                <input id="title" type="text" ngModel name="title" class="form-control">

                <label for="pathToImage"> Chemin d'accès au fichier image </label>
                <input id="pathToImage" type="text" ngModel name="pathToImage" class="form-control">

                <label for="objective"> Objectifs </label>
                <input id="objective" type="text" ngModel name="objective" class="form-control">

                <label for="description"> Description </label>
                <input id="description" type="text" ngModel name="description" class="form-control">

                <label for="startdate"> Date de debut </label>
                <input id="startdate" type="date" ngModel name="startdate" class="form-control">

                <label for="enddate"> Date de fin</label>
                <input id="enddate" type="date" ngModel name="enddate" class="form-control">

                <label for="status"> Status de la crise </label>
                <select class="form-select" aria-label="Status de la crise" name="status" id="status"
                    [(ngModel)]="crisisform.value.status">
                    <option [ngValue]="'en préparation'">En préparation</option>
                    <option [ngValue]="'déclenchée'">Déclenchée</option>
                    <option [ngValue]="'en cours'">En cours</option>
                    <option [ngValue]="'terminée'">Terminée</option>
                </select>

                <label for="localisation"> Localisations: </label>
                <input id="localisation" type="string[]" ngModel name="localisation" class="form-control">


                <button class="btn btn-secondary" (click)="closeModal()">Annuler</button>
                <button (click)="addCrisis(crisisform)" class="btn btn-primary">Enregistrer</button>
            </form>
        </div>
        <div class="modal-footer">
        </div>
    </div>
</div>